Использование виджета CMaskedTextField
=========================

Для удобства и наглядности ввода значения в поле может послужить виджет [CMaskedTextField].
Зачастую, от пользователя требуется ввести телефонный номер,
то в качестве примера рассмотрим поле ввода номера телефона.

Итак, в большинстве случаев, номер (вместе с кодом) вводится в одном текстовом поле.
И, если не написать подсказку для пользователя (справа/слева/снизу/сверху),
то можно довольно долго подбирать корректный вариант для прохождения валидации формы.

Чтобы помочь пользователю с вводом правильного значения и сэкономить его время
на помощь придёт виджет CmaskedTextField.

В представлении запишем:

~~~
[php]
<div class="row">
	<?php echo $form->labelEx($model,'phone'); ?>
	<?php
		$this->widget('CMaskedTextField', array(
			'model' => $model,
			'attribute' => 'phone',
			'mask' => '+7-999-999-9999',
			'placeholder' => '*',
			'completed' => 'function(){console.log("ok");}',
		));
		?>
	<?php echo $form->error($model,'phone'); ?>
</div>
~~~

, где:
'mask' - это маска ввода значения,
'placeholder' - символы до ввода значений пользователем, в данном случае это '*',
'completed' - JS функция, которая срабатывает после того как пользователь завершил ввод

В модели будем проверять введённое значение на корректность по регулярке:

~~~
[php]
array(
	'phone',
	'match',
	'pattern' => '/^((\+?7)(-?\d{3})-?)?(\d{3})(-?\d{4})$/',
	'message' => 'Некорректный формат поля {attribute}'
),
~~~

Кстати, http://regexlib.com - сайт с регулярными выражениями на все случаи жизни.

Стоит изучить
-------------

 - [CMaskedTextField](http://www.yiiframework.com/doc/api/CMaskedTextField).

---
 - `Автор`: Сергей Жолобов, Xpycm ([monoray.ru](http://monoray.ru/)).